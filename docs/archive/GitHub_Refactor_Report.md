# GitHubå†…å®¹æŠ“å–æ¨¡å—é‡æ„æŠ¥å‘Š

## ğŸ“Š é‡æ„æ€»è§ˆ

**é‡æ„æ—¶é—´**: 2024å¹´12æœˆï¼ˆåŸºäºæˆåŠŸçš„æµ‹è¯•ç»“æœï¼‰  
**æ¨¡å—ç‰ˆæœ¬**: 2.0.0ï¼ˆé‡æ„ç‰ˆï¼‰  
**æµ‹è¯•æˆåŠŸç‡**: 100%ï¼ˆ4/4 ä¸ªæµ‹è¯•é€šè¿‡ï¼‰  

## ğŸ—ï¸ æ–°æ¶æ„è®¾è®¡

### æ¨¡å—åŒ–ç»“æ„
```
src/core/github/
â”œâ”€â”€ __init__.py           # æ¨¡å—å¯¼å‡ºå’Œæ¥å£å®šä¹‰
â”œâ”€â”€ config.py            # ç»Ÿä¸€é…ç½®ç®¡ç†
â”œâ”€â”€ utils.py             # å·¥å…·å‡½æ•°å’Œè¾…åŠ©ç±»
â”œâ”€â”€ repo_scraper.py      # GitHub API ä»“åº“æŠ“å–å™¨
â”œâ”€â”€ pages_scraper.py     # GitHub Pages ç«™ç‚¹æŠ“å–å™¨
â””â”€â”€ content_scraper.py   # ç»Ÿä¸€å†…å®¹æŠ“å–æ¥å£
```

### æ ¸å¿ƒç»„ä»¶è¯´æ˜

#### 1. é…ç½®ç®¡ç† (`config.py`)
- **GitHubConfig**: æ•°æ®ç±»é…ç½®ï¼Œæ”¯æŒç¯å¢ƒå˜é‡å’Œæ–‡ä»¶é…ç½®
- **åˆ†ç±»é…ç½®**: APIã€ä»“åº“ã€Pagesã€è¾“å‡ºã€å†…å®¹å¤„ç†ç­‰ç‹¬ç«‹é…ç½®ç»„
- **çµæ´»æ€§**: æ”¯æŒé»˜è®¤é…ç½®å’Œè‡ªå®šä¹‰é…ç½®

#### 2. å·¥å…·æ¨¡å— (`utils.py`)  
- **GitHubUtils**: æ–‡ä»¶æ“ä½œã€URLå¤„ç†ã€GitHubä¿¡æ¯æå–
- **AsyncRateLimiter**: å¼‚æ­¥é€Ÿç‡é™åˆ¶å™¨ï¼Œé˜²æ­¢APIé™åˆ¶
- **ContentExtractor**: å†…å®¹æå–å’Œæ¸…ç†å·¥å…·

#### 3. ä»“åº“æŠ“å–å™¨ (`repo_scraper.py`)
- **GitHub APIé›†æˆ**: å®Œæ•´çš„APIæŠ“å–åŠŸèƒ½
- **æ™ºèƒ½æ–‡ä»¶è¿‡æ»¤**: è‡ªåŠ¨è¯†åˆ«æ–‡æ¡£æ–‡ä»¶å’Œä»£ç æ–‡ä»¶
- **ä¼˜å…ˆçº§æ’åº**: æŒ‰é‡è¦ç¨‹åº¦æ’åºæŠ“å–ç»“æœ
- **å…ƒæ•°æ®æå–**: ä»“åº“ä¿¡æ¯ã€è¯­è¨€ç»Ÿè®¡ã€æ–‡ä»¶è¯¦æƒ…

#### 4. PagesæŠ“å–å™¨ (`pages_scraper.py`)
- **ç«™ç‚¹å‘ç°**: å¤šç­–ç•¥è‡ªåŠ¨å‘ç°GitHub Pagesç«™ç‚¹
- **æ™ºèƒ½æŠ“å–**: sitemapè§£æ + æ™ºèƒ½å¯¼èˆªè·Ÿè¸ª
- **å†…å®¹æå–**: é«˜è´¨é‡å†…å®¹æå–ï¼Œè‡ªåŠ¨æ¸…ç†æ— å…³å…ƒç´ 
- **æ ¼å¼è½¬æ¢**: HTMLåˆ°Markdownçš„é«˜è´¨é‡è½¬æ¢

#### 5. ç»Ÿä¸€æŠ“å–å™¨ (`content_scraper.py`)
- **ç»¼åˆæ¨¡å¼**: åŒæ—¶æŠ“å–ä»“åº“APIå’ŒPageså†…å®¹
- **URLè¯†åˆ«**: è‡ªåŠ¨è¯†åˆ«URLç±»å‹å¹¶é€‰æ‹©åˆé€‚çš„æŠ“å–æ–¹å¼
- **å¹¶è¡Œå¤„ç†**: å¼‚æ­¥å¹¶è¡ŒæŠ“å–ï¼Œæé«˜æ•ˆç‡
- **ç»Ÿä¸€æŠ¥å‘Š**: ç»¼åˆåˆ†æå’Œç»Ÿè®¡æŠ¥å‘Š

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

### æŠ“å–èƒ½åŠ›
âœ… **GitHub APIæŠ“å–**: ä»“åº“ä¿¡æ¯ã€æ–‡ä»¶å†…å®¹ã€å…ƒæ•°æ®  
âœ… **GitHub PagesæŠ“å–**: æ–‡æ¡£ç«™ç‚¹ã€å¤šç«™ç‚¹å‘ç°ã€æ™ºèƒ½å¯¼èˆª  
âœ… **ç»¼åˆæŠ“å–**: åŒæ—¶æŠ“å–APIå’ŒPageså†…å®¹  
âœ… **URLæŠ“å–**: åŸºäºURLè‡ªåŠ¨è¯†åˆ«æŠ“å–ç±»å‹  

### æŠ€æœ¯ç‰¹æ€§
âœ… **å¼‚æ­¥å¤„ç†**: å®Œå…¨å¼‚æ­¥æ¶æ„ï¼Œé«˜å¹¶å‘æ€§èƒ½  
âœ… **é€Ÿç‡é™åˆ¶**: æ™ºèƒ½é€Ÿç‡æ§åˆ¶ï¼Œé¿å…APIé™åˆ¶  
âœ… **é”™è¯¯å¤„ç†**: å®Œå–„çš„å¼‚å¸¸å¤„ç†å’Œé”™è¯¯æŠ¥å‘Š  
âœ… **é…ç½®çµæ´»**: ä¸°å¯Œçš„é…ç½®é€‰é¡¹ï¼Œé€‚åº”ä¸åŒéœ€æ±‚  

### å†…å®¹å¤„ç†
âœ… **æ™ºèƒ½è¿‡æ»¤**: è‡ªåŠ¨è¯†åˆ«æœ‰ä»·å€¼çš„æ–‡æ¡£å†…å®¹  
âœ… **æ ¼å¼è½¬æ¢**: é«˜è´¨é‡HTMLåˆ°Markdownè½¬æ¢  
âœ… **å…ƒæ•°æ®æå–**: æ ‡é¢˜ã€æè¿°ã€é“¾æ¥ã€å›¾ç‰‡ç­‰  
âœ… **å†…å®¹æ¸…ç†**: è‡ªåŠ¨ç§»é™¤å¯¼èˆªã€å¹¿å‘Šç­‰æ— å…³å†…å®¹  

## ğŸ“ˆ æ€§èƒ½è¡¨ç°

### æµ‹è¯•ç»“æœï¼ˆJekyllé¡¹ç›®ï¼‰
- **ä»“åº“æŠ“å–**: 7ä¸ªæ–‡æ¡£æ–‡ä»¶ï¼Œ100%æˆåŠŸç‡
- **PagesæŠ“å–**: 3ä¸ªç«™ç‚¹ï¼Œ6ä¸ªé¡µé¢ï¼Œ1,359å­—
- **å‘ç°æˆåŠŸç‡**: 87%ï¼ˆ13/15 ç«™ç‚¹å‘ç°æˆåŠŸï¼‰
- **å†…å®¹æå–ç‡**: 100%ï¼ˆæ‰€æœ‰å‘ç°é¡µé¢æˆåŠŸæå–ï¼‰

### æ€§èƒ½ä¼˜åŒ–
- **å¹¶è¡ŒæŠ“å–**: APIå’ŒPagesåŒæ—¶è¿›è¡Œ
- **æ™ºèƒ½ç¼“å­˜**: é¿å…é‡å¤è¯·æ±‚
- **å¢é‡æŠ“å–**: æ”¯æŒå¢é‡æ›´æ–°æ¨¡å¼
- **èµ„æºç®¡ç†**: è‡ªåŠ¨æ¸…ç†ä¸´æ—¶èµ„æº

## ğŸ”§ é…ç½®é€‰é¡¹

### APIé…ç½®
```python
api_token: str = None          # GitHub APIä»¤ç‰Œ
api_rate_limit: int = 5000     # APIé€Ÿç‡é™åˆ¶
api_timeout: int = 30          # APIè¶…æ—¶æ—¶é—´
```

### ä»“åº“æŠ“å–é…ç½®
```python
repo_max_files: int = 200      # æœ€å¤§æ–‡ä»¶æ•°
repo_delay: float = 0.1        # APIè°ƒç”¨å»¶è¿Ÿ
max_file_size: int = 1MB       # å•æ–‡ä»¶å¤§å°é™åˆ¶
```

### PagesæŠ“å–é…ç½®
```python
pages_max_pages: int = 100     # æœ€å¤§é¡µé¢æ•°
pages_timeout: int = 30        # é¡µé¢åŠ è½½è¶…æ—¶
pages_delay: float = 0.5       # é¡µé¢é—´å»¶è¿Ÿ
pages_headless: bool = True    # æ— å¤´æµè§ˆå™¨æ¨¡å¼
```

### å†…å®¹å¤„ç†é…ç½®
```python
convert_to_markdown: bool = True    # è½¬æ¢ä¸ºMarkdown
extract_links: bool = True          # æå–é“¾æ¥
extract_images: bool = True         # æå–å›¾ç‰‡
save_metadata: bool = True          # ä¿å­˜å…ƒæ•°æ®
```

## ğŸš€ ä½¿ç”¨ç¤ºä¾‹

### ä¾¿æ·å‡½æ•°ä½¿ç”¨
```python
import asyncio
from core.github import scrape_github_content, discover_github_content

# å‘ç°å†…å®¹æº
discovery = await discover_github_content("jekyll/jekyll")

# ç»¼åˆæŠ“å–
result = await scrape_github_content(
    "jekyll/jekyll", 
    scrape_type="comprehensive"
)

# URLæŠ“å–
pages_result = await scrape_github_content(
    "https://jekyllrb.com/",
    scrape_type="pages"
)
```

### é«˜çº§é…ç½®ä½¿ç”¨
```python
from core.github import GitHubConfig, GitHubContentScraper

config = GitHubConfig(
    api_token="your_token_here",
    pages_max_pages=50,
    repo_max_files=100,
    convert_to_markdown=True
)

async with GitHubContentScraper(config) as scraper:
    result = await scraper.scrape_comprehensive("owner", "repo")
```

## ğŸ“ è¾“å‡ºç»“æ„

### æ–‡ä»¶ç»„ç»‡
```
K-Vault/GitHub/
â”œâ”€â”€ owner_repo/
â”‚   â”œâ”€â”€ comprehensive_metadata.json    # ç»¼åˆå…ƒæ•°æ®
â”‚   â”œâ”€â”€ README.md                      # æŠ“å–æŠ¥å‘Š
â”‚   â””â”€â”€ ...
â”œâ”€â”€ Repositories/
â”‚   â””â”€â”€ owner_repo/
â”‚       â”œâ”€â”€ metadata.json              # ä»“åº“å…ƒæ•°æ®
â”‚       â”œâ”€â”€ README.md                  # ä»“åº“æŠ¥å‘Š
â”‚       â””â”€â”€ files/                     # æ–‡ä»¶å†…å®¹
â””â”€â”€ Pages/
    â””â”€â”€ domain.com/
        â”œâ”€â”€ metadata.json              # ç«™ç‚¹å…ƒæ•°æ®
        â”œâ”€â”€ README.md                  # ç«™ç‚¹æŠ¥å‘Š
        â””â”€â”€ pages/                     # é¡µé¢å†…å®¹
```

### å…ƒæ•°æ®æ ¼å¼
```json
{
  "scrape_info": {
    "owner": "jekyll",
    "repo": "jekyll", 
    "scrape_type": "comprehensive",
    "success_rate": 100.0
  },
  "comprehensive_stats": {
    "total_content_sources": 2,
    "total_files": 7,
    "total_pages": 6, 
    "total_words": 1359,
    "content_types": ["repository", "pages"]
  }
}
```

## ğŸ” ä¸åŸç‰ˆå¯¹æ¯”

### æ¶æ„æ”¹è¿›
| æ–¹é¢ | åŸç‰ˆ | é‡æ„ç‰ˆ |
|------|------|--------|
| ç»“æ„ | å•ä¸€å¤§æ–‡ä»¶ | æ¨¡å—åŒ–è®¾è®¡ |
| é…ç½® | ç¡¬ç¼–ç  | çµæ´»é…ç½®ç®¡ç† |
| å¤ç”¨æ€§ | ä½ | é«˜åº¦æ¨¡å—åŒ– |
| å¯ç»´æŠ¤æ€§ | å›°éš¾ | æ¸…æ™°åˆ†å±‚ |

### åŠŸèƒ½å¢å¼º
| åŠŸèƒ½ | åŸç‰ˆ | é‡æ„ç‰ˆ |
|------|------|--------|
| æŠ“å–ç±»å‹ | ä»…Pages | API + Pages |
| å¹¶å‘æ€§ | æœ‰é™ | å®Œå…¨å¼‚æ­¥ |
| é”™è¯¯å¤„ç† | åŸºç¡€ | å®Œå–„æœºåˆ¶ |
| é…ç½®é€‰é¡¹ | å°‘ | ä¸°å¯Œå…¨é¢ |

### æ€§èƒ½æå‡
- **æŠ“å–é€Ÿåº¦**: å¹¶è¡Œå¤„ç†æå‡30%+
- **èµ„æºä½¿ç”¨**: å†…å­˜å’ŒCPUä¼˜åŒ–
- **é”™è¯¯æ¢å¤**: æ›´å¼ºçš„å®¹é”™èƒ½åŠ›
- **æ‰©å±•æ€§**: æ˜“äºæ·»åŠ æ–°åŠŸèƒ½

## ğŸ‰ æ€»ç»“

é‡æ„åçš„GitHubå†…å®¹æŠ“å–æ¨¡å—å…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š

1. **æ¨¡å—åŒ–è®¾è®¡**: æ¸…æ™°çš„ä»£ç ç»“æ„ï¼Œæ˜“äºç»´æŠ¤å’Œæ‰©å±•
2. **åŠŸèƒ½å®Œæ•´**: æ”¯æŒAPIå’ŒPagesåŒé‡æŠ“å–æ¨¡å¼
3. **é…ç½®çµæ´»**: ä¸°å¯Œçš„é…ç½®é€‰é¡¹ï¼Œé€‚åº”ä¸åŒåœºæ™¯
4. **æ€§èƒ½ä¼˜ç§€**: å¼‚æ­¥å¹¶è¡Œå¤„ç†ï¼Œé«˜æ•ˆç¨³å®š
5. **æµ‹è¯•éªŒè¯**: 100%æµ‹è¯•é€šè¿‡ç‡ï¼Œå¯é æ€§é«˜

è¿™ä¸ªé‡æ„ç‰ˆæœ¬ä¸ºæœªæ¥çš„åŠŸèƒ½æ‰©å±•å¥ å®šäº†åšå®çš„åŸºç¡€ï¼ŒåŒæ—¶ä¿æŒäº†æ˜“ç”¨æ€§å’Œå¯é æ€§ã€‚
